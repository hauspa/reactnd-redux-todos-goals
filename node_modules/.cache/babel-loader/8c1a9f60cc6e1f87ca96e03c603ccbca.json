{"ast":null,"code":"import API from 'goals-todos-api';\nexport var ADD_TODO = 'ADD_TODO';\nexport var REMOVE_TODO = 'REMOVE TODO';\nexport var TOGGLE_TODO = 'TOGGLE_TODO';\n\nfunction addTodo(todo) {\n  return {\n    type: ADD_TODO,\n    todo: todo\n  };\n}\n\nfunction removeTodo(id) {\n  return {\n    type: REMOVE_TODO,\n    id: id\n  };\n}\n\nfunction toggleTodo(id) {\n  return {\n    type: TOGGLE_TODO,\n    id: id\n  };\n}\n\nexport function handleAddTodo(name, callback) {\n  return function (dispatch) {\n    return API.saveTodo(name).then(function (todo) {\n      dispatch(addTodo(todo));\n      callback();\n    }).catch(function () {\n      alert('There was an error. Try again.');\n    });\n  };\n}\nexport function handleDeleteTodo(todo) {\n  return function (dispatch) {\n    dispatch(removeTodo(todo.id));\n    return API.deleteTodo(todo.id).catch(function () {\n      dispatch(addTodo(todo));\n      alert('An error occurred. Try again.');\n    });\n  };\n}\nexport function handleToggle(id) {\n  return function (dispatch) {\n    dispatch(toggleTodo(id));\n    return API.saveTodoToggle(id).catch(function () {\n      dispatch(toggleTodos(id));\n      alert('An error occurred. Try again.');\n    });\n  };\n}","map":{"version":3,"sources":["/Users/Pasci/Downloads/udacity-goals-todos/src/actions/todos.js"],"names":["API","ADD_TODO","REMOVE_TODO","TOGGLE_TODO","addTodo","todo","type","removeTodo","id","toggleTodo","handleAddTodo","name","callback","dispatch","saveTodo","then","catch","alert","handleDeleteTodo","deleteTodo","handleToggle","saveTodoToggle","toggleTodos"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,iBAAhB;AAEA,OAAO,IAAMC,QAAQ,GAAG,UAAjB;AACP,OAAO,IAAMC,WAAW,GAAG,aAApB;AACP,OAAO,IAAMC,WAAW,GAAG,aAApB;;AAGP,SAASC,OAAT,CAAkBC,IAAlB,EAAuB;AACrB,SAAM;AACJC,IAAAA,IAAI,EAAEL,QADF;AAEJI,IAAAA,IAAI,EAAJA;AAFI,GAAN;AAID;;AAED,SAASE,UAAT,CAAqBC,EAArB,EAAwB;AACtB,SAAO;AACLF,IAAAA,IAAI,EAAEJ,WADD;AAELM,IAAAA,EAAE,EAAFA;AAFK,GAAP;AAID;;AAED,SAASC,UAAT,CAAqBD,EAArB,EAAyB;AACvB,SAAO;AACLF,IAAAA,IAAI,EAAEH,WADD;AAELK,IAAAA,EAAE,EAAFA;AAFK,GAAP;AAID;;AAED,OAAO,SAASE,aAAT,CAAwBC,IAAxB,EAA8BC,QAA9B,EAAwC;AAC7C,SAAO,UAACC,QAAD,EAAc;AACnB,WAAOb,GAAG,CAACc,QAAJ,CAAaH,IAAb,EACJI,IADI,CACC,UAACV,IAAD,EAAU;AACdQ,MAAAA,QAAQ,CAACT,OAAO,CAACC,IAAD,CAAR,CAAR;AACAO,MAAAA,QAAQ;AACT,KAJI,EAKJI,KALI,CAKE,YAAM;AACXC,MAAAA,KAAK,CAAC,gCAAD,CAAL;AACD,KAPI,CAAP;AAQD,GATD;AAUD;AAED,OAAO,SAASC,gBAAT,CAA2Bb,IAA3B,EAAiC;AACtC,SAAO,UAACQ,QAAD,EAAc;AACnBA,IAAAA,QAAQ,CAACN,UAAU,CAACF,IAAI,CAACG,EAAN,CAAX,CAAR;AAEA,WAAOR,GAAG,CAACmB,UAAJ,CAAed,IAAI,CAACG,EAApB,EACNQ,KADM,CACA,YAAM;AACXH,MAAAA,QAAQ,CAACT,OAAO,CAACC,IAAD,CAAR,CAAR;AACAY,MAAAA,KAAK,CAAC,+BAAD,CAAL;AACD,KAJM,CAAP;AAKD,GARD;AASD;AAED,OAAO,SAASG,YAAT,CAAuBZ,EAAvB,EAA2B;AAChC,SAAO,UAACK,QAAD,EAAc;AACnBA,IAAAA,QAAQ,CAACJ,UAAU,CAACD,EAAD,CAAX,CAAR;AAEA,WAAOR,GAAG,CAACqB,cAAJ,CAAmBb,EAAnB,EACJQ,KADI,CACE,YAAM;AACXH,MAAAA,QAAQ,CAACS,WAAW,CAACd,EAAD,CAAZ,CAAR;AACAS,MAAAA,KAAK,CAAC,+BAAD,CAAL;AACD,KAJI,CAAP;AAKD,GARD;AASD","sourcesContent":["import API from 'goals-todos-api'\n\nexport const ADD_TODO = 'ADD_TODO'\nexport const REMOVE_TODO = 'REMOVE TODO'\nexport const TOGGLE_TODO = 'TOGGLE_TODO'\n\n\nfunction addTodo (todo){\n  return{\n    type: ADD_TODO,\n    todo\n  }\n}\n\nfunction removeTodo (id){\n  return {\n    type: REMOVE_TODO,\n    id\n  }\n}\n\nfunction toggleTodo (id) {\n  return {\n    type: TOGGLE_TODO,\n    id\n  }\n}\n\nexport function handleAddTodo (name, callback) {\n  return (dispatch) => {\n    return API.saveTodo(name)\n      .then((todo) => {\n        dispatch(addTodo(todo))\n        callback()\n      })\n      .catch(() => {\n        alert('There was an error. Try again.')\n      })\n  }\n}\n\nexport function handleDeleteTodo (todo) {\n  return (dispatch) => {\n    dispatch(removeTodo(todo.id))\n\n    return API.deleteTodo(todo.id)\n    .catch(() => {\n      dispatch(addTodo(todo))\n      alert('An error occurred. Try again.')\n    })\n  }\n}\n\nexport function handleToggle (id) {\n  return (dispatch) => {\n    dispatch(toggleTodo(id))\n\n    return API.saveTodoToggle(id)\n      .catch(() => {\n        dispatch(toggleTodos(id))\n        alert('An error occurred. Try again.')\n      })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}