{"ast":null,"code":"import API from 'goals-todos-api';\nexport var ADD_GOAL = 'ADD_GOAL';\nexport var REMOVE_GOAL = 'REMOVE_GOAL';\n\nfunction addGoal(goal) {\n  return {\n    type: ADD_GOAL,\n    goal: goal\n  };\n}\n\nfunction removeGoal(id) {\n  return {\n    type: REMOVE_GOAL,\n    id: id\n  };\n}\n\nexport function handleAddGoal(name, callback) {\n  return function (dispatch) {\n    return API.saveGoal(name).then(function (goal) {\n      dispatch(addGoal(goal));\n      callback();\n    }).catch(function () {\n      alert('There was an error. Try again.');\n    });\n  };\n}\nexport function handleDeleteGoal(goal) {\n  return function (dispatch) {\n    dispatch(removeGoal(goal.id));\n    return API.deleteGoal(goal.id).catch(function () {\n      dispatch(addGoal(goal));\n      alert('An error occurred. Try again!');\n    });\n  };\n}","map":{"version":3,"sources":["/Users/Pasci/Coding/React_Nanodegree/redux_todos_goals/src/actions/goals.js"],"names":["API","ADD_GOAL","REMOVE_GOAL","addGoal","goal","type","removeGoal","id","handleAddGoal","name","callback","dispatch","saveGoal","then","catch","alert","handleDeleteGoal","deleteGoal"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,iBAAhB;AAEA,OAAO,IAAMC,QAAQ,GAAG,UAAjB;AACP,OAAO,IAAMC,WAAW,GAAG,aAApB;;AAEP,SAASC,OAAT,CAAkBC,IAAlB,EAAwB;AACtB,SAAO;AACLC,IAAAA,IAAI,EAAEJ,QADD;AAELG,IAAAA,IAAI,EAAJA;AAFK,GAAP;AAID;;AAED,SAASE,UAAT,CAAqBC,EAArB,EAAyB;AACvB,SAAO;AACLF,IAAAA,IAAI,EAAEH,WADD;AAELK,IAAAA,EAAE,EAAFA;AAFK,GAAP;AAID;;AAED,OAAO,SAASC,aAAT,CAAwBC,IAAxB,EAA8BC,QAA9B,EAAwC;AAC7C,SAAO,UAACC,QAAD,EAAc;AACnB,WAAOX,GAAG,CAACY,QAAJ,CAAaH,IAAb,EACJI,IADI,CACC,UAACT,IAAD,EAAU;AACdO,MAAAA,QAAQ,CAACR,OAAO,CAACC,IAAD,CAAR,CAAR;AACAM,MAAAA,QAAQ;AACT,KAJI,EAKJI,KALI,CAKE,YAAM;AACXC,MAAAA,KAAK,CAAC,gCAAD,CAAL;AACD,KAPI,CAAP;AAQD,GATD;AAUD;AAED,OAAO,SAASC,gBAAT,CAA2BZ,IAA3B,EAAiC;AACtC,SAAO,UAACO,QAAD,EAAc;AACnBA,IAAAA,QAAQ,CAACL,UAAU,CAACF,IAAI,CAACG,EAAN,CAAX,CAAR;AAEA,WAAOP,GAAG,CAACiB,UAAJ,CAAeb,IAAI,CAACG,EAApB,EACJO,KADI,CACE,YAAM;AACXH,MAAAA,QAAQ,CAACR,OAAO,CAACC,IAAD,CAAR,CAAR;AACAW,MAAAA,KAAK,CAAC,+BAAD,CAAL;AACD,KAJI,CAAP;AAKD,GARD;AASD","sourcesContent":["import API from 'goals-todos-api'\n\nexport const ADD_GOAL = 'ADD_GOAL'\nexport const REMOVE_GOAL = 'REMOVE_GOAL'\n\nfunction addGoal (goal) {\n  return {\n    type: ADD_GOAL,\n    goal\n  }\n}\n\nfunction removeGoal (id) {\n  return {\n    type: REMOVE_GOAL,\n    id\n  }\n}\n\nexport function handleAddGoal (name, callback) {\n  return (dispatch) => {\n    return API.saveGoal(name)\n      .then((goal) => {\n        dispatch(addGoal(goal))\n        callback()\n      })\n      .catch(() => {\n        alert('There was an error. Try again.')\n      })\n  }\n}\n\nexport function handleDeleteGoal (goal) {\n  return (dispatch) => {\n    dispatch(removeGoal(goal.id))\n\n    return API.deleteGoal(goal.id)\n      .catch(() => {\n        dispatch(addGoal(goal))\n        alert('An error occurred. Try again!')\n      })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}